<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–í—Ö–æ–¥ | Prometheus CRM</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Google Fonts - Inter for modern typography -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- NEW: Link to global CSS variables and common styles -->
  <link rel="stylesheet" href="/static/css/variables.css">
  <link rel="stylesheet" href="/static/css/global.css">
  <!-- Login page specific styles -->
  <link rel="stylesheet" href="/static/css/style_login.css">

  <!-- LottieFiles for animation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
</head>
<body>
  <div class="login-split">
    <div class="login-left">
      <img src="/static/logo.png" alt="Prometheus School" class="login-logo">
      <div id="lottie-illustration" class="login-illustration"></div>
    </div>

    <div class="login-right">
      <form id="loginForm" class="login-form" onsubmit="return false;">
        <h2>–í–æ–π—Ç–∏</h2>

        <input type="text" id="login" name="login" class="form-control" placeholder="–õ–æ–≥–∏–Ω" required autofocus>

        <div class="password-container">
          <input type="password" id="password" class="form-control" placeholder="–ü–∞—Ä–æ–ª—å" required>
          <span onclick="togglePassword(this)" class="password-toggle">üëÅ</span>
        </div>

        <div class="form-options">
          <label class="checkbox-label">
            <input class="form-check-input" type="checkbox" id="rememberMe"> –ó–∞–ø–æ–º–Ω–∏—Ç—å
          </label>
          <a href="#" class="text-primary">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å</a>
        </div>

        <button type="submit" class="button-primary">–í–æ–π—Ç–∏</button>

        <!-- Removed inline style, now uses global .alert-danger class -->
        <div id="loginError" class="alert-danger" style="display: none;"></div>
        
        <div class="language-switcher">
          <img src="/static/flag-ru.png" alt="RU">
          <img src="/static/flag-en.png" alt="EN">
        </div>
      </form>
    </div>
  </div>

  <script>
    // Function to toggle password visibility
    function togglePassword(icon) {
      const passwordField = document.getElementById("password");
      if (passwordField.type === "password") {
        passwordField.type = "text";
        icon.textContent = "üôà";
      } else {
        passwordField.type = "password";
        icon.textContent = "üëÅ";
      }
    }
  </script>
  <!-- Main login JavaScript logic -->
  <script type="module" src="/static/js/login.js"></script>
  <script>
    // Initialize Lottie animation
    lottie.loadAnimation({
      container: document.getElementById('lottie-illustration'),
      renderer: 'svg',
      loop: true,
      autoplay: true,
      path: '/static/lottie.json'
    });
  </script>
</body>
</html>
